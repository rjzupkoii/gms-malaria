/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var water = 
    /* color: #003dff */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[107.21256207058285, 15.04320626350342],
                  [107.21256207058285, 15.038232847302872],
                  [107.21754025051449, 15.038232847302872],
                  [107.21754025051449, 15.04320626350342]]], null, false),
            {
              "type": "water",
              "class": 10,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.22715328762386, 14.963617705395324],
                  [107.22715328762386, 14.9583107489607],
                  [107.23298977444027, 14.9583107489607],
                  [107.23298977444027, 14.963617705395324]]], null, false),
            {
              "type": "water",
              "class": 10,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.15454052517269, 15.012037608761254],
                  [107.15454052517269, 15.007395079386352],
                  [107.15917538235043, 15.007395079386352],
                  [107.15917538235043, 15.012037608761254]]], null, false),
            {
              "type": "water",
              "class": 10,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.19264935085629, 14.94753058943139],
                  [107.19264935085629, 14.94255494852528],
                  [107.19694088528011, 14.94255494852528],
                  [107.19694088528011, 14.94753058943139]]], null, false),
            {
              "type": "water",
              "class": 10,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.12664108785589, 14.893813693945585],
                  [107.12664108785589, 14.893129379228878],
                  [107.12752085241277, 14.893129379228878],
                  [107.12752085241277, 14.893813693945585]]], null, false),
            {
              "type": "water",
              "class": 10,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.12455969366033, 14.892362114688936],
                  [107.12455969366033, 14.89180221721909],
                  [107.12524633916814, 14.89180221721909],
                  [107.12524633916814, 14.892362114688936]]], null, false),
            {
              "type": "water",
              "class": 10,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.0951284552065, 14.837257090492427],
                  [107.0951284552065, 14.835825873223195],
                  [107.09585801605856, 14.835825873223195],
                  [107.09585801605856, 14.837257090492427]]], null, false),
            {
              "type": "water",
              "class": 10,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.82852536631214, 14.8028374853076],
                  [106.82852536631214, 14.802111391319045],
                  [106.8315079827367, 14.802111391319045],
                  [106.8315079827367, 14.8028374853076]]], null, false),
            {
              "type": "water",
              "class": 10,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.55841967659248, 14.025859479654736],
                  [107.55841967659248, 14.020863119035347],
                  [107.56562945442451, 14.020863119035347],
                  [107.56562945442451, 14.025859479654736]]], null, false),
            {
              "type": "water",
              "class": 10,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.52082583503974, 13.98555240493395],
                  [107.52082583503974, 13.981054896268633],
                  [107.52872225837959, 13.981054896268633],
                  [107.52872225837959, 13.98555240493395]]], null, false),
            {
              "type": "water",
              "class": 10,
              "system:index": "9"
            })]),
    forest = 
    /* color: #006400 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[106.58603402792362, 14.729582688087001],
                  [106.58603402792362, 14.725847206048408],
                  [106.58972474752811, 14.725847206048408],
                  [106.58972474752811, 14.729582688087001]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.67288431020992, 14.773662923378787],
                  [106.67288431020992, 14.770509159400152],
                  [106.67631753774899, 14.770509159400152],
                  [106.67631753774899, 14.773662923378787]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.7119208054734, 14.80074280940808],
                  [106.7119208054734, 14.797755406849634],
                  [106.71526820232398, 14.797755406849634],
                  [106.71526820232398, 14.80074280940808]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.70745760967262, 14.843142887279363],
                  [106.70745760967262, 14.839409358752102],
                  [106.71114832927711, 14.839409358752102],
                  [106.71114832927711, 14.843142887279363]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.76218744287651, 14.897698866793547],
                  [106.76218744287651, 14.894463963690274],
                  [106.76544900903862, 14.894463963690274],
                  [106.76544900903862, 14.897698866793547]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.57653381161374, 14.780397523893043],
                  [106.57653381161374, 14.775749999815819],
                  [106.58099700741452, 14.775749999815819],
                  [106.58099700741452, 14.780397523893043]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.50460769467038, 14.781393408970233],
                  [106.50460769467038, 14.776745906204088],
                  [106.51010085873288, 14.776745906204088],
                  [106.51010085873288, 14.781393408970233]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.47164871029538, 14.78421505855089],
                  [106.47164871029538, 14.779069670019],
                  [106.47731353573484, 14.779069670019],
                  [106.47731353573484, 14.78421505855089]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.48871634616088, 14.812524764691322],
                  [106.48871634616088, 14.8068821653094],
                  [106.4948961557312, 14.8068821653094],
                  [106.4948961557312, 14.812524764691322]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.48064826144409, 14.855503268342085],
                  [106.48064826144409, 14.850027717578792],
                  [106.48614142550659, 14.850027717578792],
                  [106.48614142550659, 14.855503268342085]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.65029049998451, 14.688717657736056],
                  [106.65029049998451, 14.686486334842117],
                  [106.65253282672096, 14.686486334842117],
                  [106.65253282672096, 14.688717657736056]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.3646370672813, 14.98590097697006],
                  [107.3646370672813, 14.983289247444254],
                  [107.36764114137797, 14.983289247444254],
                  [107.36764114137797, 14.98590097697006]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.32346777910922, 14.11371546341699],
                  [107.32346777910922, 14.107056184124104],
                  [107.33127837176059, 14.107056184124104],
                  [107.33127837176059, 14.11371546341699]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.98587011990456, 14.35953577472716],
                  [106.98587011990456, 14.35013971640759],
                  [106.99561190304665, 14.35013971640759],
                  [106.99561190304665, 14.35953577472716]]], null, false),
            {
              "type": "Forest",
              "class": 11,
              "system:index": "13"
            })]),
    vegetation = 
    /* color: #008000 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[106.23295240175923, 14.207837478045171],
                  [106.23295240175923, 14.20051529488595],
                  [106.24033384096822, 14.20051529488595],
                  [106.24033384096822, 14.207837478045171]]], null, false),
            {
              "class": 12,
              "type": "Vegetation",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.1888537727627, 14.173614024884444],
                  [106.1888537727627, 14.166124294845906],
                  [106.19606355059473, 14.166124294845906],
                  [106.19606355059473, 14.173614024884444]]], null, false),
            {
              "class": 12,
              "type": "Vegetation",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.26090893298073, 13.96788717073196],
                  [106.26090893298073, 13.962972844591976],
                  [106.26554379015846, 13.962972844591976],
                  [106.26554379015846, 13.96788717073196]]], null, false),
            {
              "class": 12,
              "type": "Vegetation",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.71137249455896, 15.053289174319925],
                  [106.71137249455896, 15.050222393126703],
                  [106.71532070622888, 15.050222393126703],
                  [106.71532070622888, 15.053289174319925]]], null, false),
            {
              "class": 12,
              "type": "Vegetation",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.39236525380015, 14.114666072340318],
                  [107.39236525380015, 14.112616292211145],
                  [107.39414624058604, 14.112616292211145],
                  [107.39414624058604, 14.114666072340318]]], null, false),
            {
              "class": 12,
              "type": "Vegetation",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.25981671700386, 14.030654642441101],
                  [107.25981671700386, 14.026657646219114],
                  [107.26415116677192, 14.026657646219114],
                  [107.26415116677192, 14.030654642441101]]], null, false),
            {
              "class": 12,
              "type": "Vegetation",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.60766457881186, 13.871789189483888],
                  [107.60766457881186, 13.865372890514598],
                  [107.61212777461265, 13.865372890514598],
                  [107.61212777461265, 13.871789189483888]]], null, false),
            {
              "class": 12,
              "type": "Vegetation",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.10653020305001, 14.768369824155798],
                  [107.10653020305001, 14.762103595619898],
                  [107.11558534068429, 14.762103595619898],
                  [107.11558534068429, 14.768369824155798]]], null, false),
            {
              "class": 12,
              "type": "Vegetation",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.11318286025968, 14.729177141279287],
                  [107.11318286025968, 14.7214570601514],
                  [107.1233967121884, 14.7214570601514],
                  [107.1233967121884, 14.729177141279287]]], null, false),
            {
              "class": 12,
              "type": "Vegetation",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.11626347032622, 14.823821529987507],
                  [107.11626347032622, 14.820834445588837],
                  [107.12124165025786, 14.820834445588837],
                  [107.12124165025786, 14.823821529987507]]], null, false),
            {
              "class": 12,
              "type": "Vegetation",
              "system:index": "9"
            })]),
    scrub = 
    /* color: #8fbc8f */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[106.13779184523486, 13.864735663878157],
                  [106.13779184523486, 13.8619857596154],
                  [106.14062425795458, 13.8619857596154],
                  [106.14062425795458, 13.864735663878157]]], null, false),
            {
              "class": 13,
              "type": "Scrub",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.06846092959847, 14.001491446589275],
                  [106.06846092959847, 13.996161425759373],
                  [106.07395409366097, 13.996161425759373],
                  [106.07395409366097, 14.001491446589275]]], null, false),
            {
              "class": 13,
              "type": "Scrub",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.22047843755679, 14.190847835676925],
                  [106.22047843755679, 14.185272594989152],
                  [106.22717323125796, 14.185272594989152],
                  [106.22717323125796, 14.190847835676925]]], null, false),
            {
              "class": 13,
              "type": "Scrub",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.32907899602857, 14.122228714889884],
                  [106.32907899602857, 14.119107318586817],
                  [106.33259805425611, 14.119107318586817],
                  [106.33259805425611, 14.122228714889884]]], null, false),
            {
              "class": 13,
              "type": "Scrub",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.32817777379957, 14.135046800337468],
                  [106.32817777379957, 14.132341744999293],
                  [106.3310101865193, 14.132341744999293],
                  [106.3310101865193, 14.135046800337468]]], null, false),
            {
              "class": 13,
              "type": "Scrub",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.77570447413856, 14.415420763383555],
                  [107.77570447413856, 14.413841317966888],
                  [107.77754983394081, 14.413841317966888],
                  [107.77754983394081, 14.415420763383555]]], null, false),
            {
              "class": 13,
              "type": "Scrub",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.76536187617714, 14.417000197608678],
                  [107.76536187617714, 14.415379199173858],
                  [107.76720723597938, 14.415379199173858],
                  [107.76720723597938, 14.417000197608678]]], null, false),
            {
              "class": 13,
              "type": "Scrub",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.35330634543256, 14.874643389153947],
                  [106.35330634543256, 14.870661537211344],
                  [106.35734038779096, 14.870661537211344],
                  [106.35734038779096, 14.874643389153947]]], null, false),
            {
              "class": 13,
              "type": "Scrub",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.3956746410466, 14.765167299752758],
                  [106.3956746410466, 14.75952346919378],
                  [106.40254109612472, 14.75952346919378],
                  [106.40254109612472, 14.765167299752758]]], null, false),
            {
              "class": 13,
              "type": "Scrub",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.4703473400212, 14.721008718477064],
                  [106.4703473400212, 14.716359926069886],
                  [106.47463887444503, 14.716359926069886],
                  [106.47463887444503, 14.721008718477064]]], null, false),
            {
              "class": 13,
              "type": "Scrub",
              "system:index": "9"
            })]),
    agricultural = 
    /* color: #f5deb3 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[106.7045882382603, 14.707567990045707],
                  [106.7045882382603, 14.703375521619938],
                  [106.70866519596294, 14.703375521619938],
                  [106.70866519596294, 14.707567990045707]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.70922309543803, 14.701839646701988],
                  [106.70922309543803, 14.698684842718498],
                  [106.71347171451762, 14.698684842718498],
                  [106.71347171451762, 14.701839646701988]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.70736909610537, 14.737203538270531],
                  [106.70736909610537, 14.733426682605591],
                  [106.71170354587343, 14.733426682605591],
                  [106.71170354587343, 14.737203538270531]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.77001067225152, 14.741288957622373],
                  [106.77001067225152, 14.738010214104287],
                  [106.77404471460991, 14.738010214104287],
                  [106.77404471460991, 14.741288957622373]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.7137675205901, 14.696430944646046],
                  [106.7137675205901, 14.692528846953913],
                  [106.7178015629485, 14.692528846953913],
                  [106.7178015629485, 14.696430944646046]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.00360916370511, 14.787952566860822],
                  [107.00360916370511, 14.783720151603834],
                  [107.00665615314603, 14.783720151603834],
                  [107.00665615314603, 14.787952566860822]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.05342001846266, 14.762545609988681],
                  [107.05342001846266, 14.756486713059987],
                  [107.05736823013258, 14.756486713059987],
                  [107.05736823013258, 14.762545609988681]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.68521415130711, 13.818265972635697],
                  [107.68521415130711, 13.81464036764405],
                  [107.68920527832127, 13.81464036764405],
                  [107.68920527832127, 13.818265972635697]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.67109500305271, 13.806513806717096],
                  [107.67109500305271, 13.803138075054115],
                  [107.67530070678806, 13.803138075054115],
                  [107.67530070678806, 13.806513806717096]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.68528177261578, 13.821738808010167],
                  [107.68528177261578, 13.818780029293867],
                  [107.68837167740094, 13.818780029293867],
                  [107.68837167740094, 13.821738808010167]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.47394439231248, 15.099824865682335],
                  [106.47797843467087, 15.09833324996249],
                  [106.47918006430955, 15.098706154874668],
                  [106.48016711722703, 15.102849498726858],
                  [106.47583266745896, 15.104341082720238]]]),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.49578270063668, 15.091747467980241],
                  [106.49655517683297, 15.097361863407915],
                  [106.49035390959054, 15.100117213517576],
                  [106.49071869001656, 15.09771405300857],
                  [106.49245676145821, 15.09763118491979],
                  [106.49260696516305, 15.096098119445138],
                  [106.4908688937214, 15.095435168785745],
                  [106.49071869001656, 15.09348773925812],
                  [106.49340089903146, 15.092514017799727],
                  [106.4926713381794, 15.093902087461258],
                  [106.49400171385079, 15.09365347863635],
                  [106.4944523249653, 15.092120384454091]]]),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.78440976246532, 14.763445583108666],
                  [106.78440976246532, 14.759793680557006],
                  [106.7888729582661, 14.759793680557006],
                  [106.7888729582661, 14.763445583108666]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.77956032856639, 14.777513134305407],
                  [106.77956032856639, 14.773529495427631],
                  [106.78363728626903, 14.773529495427631],
                  [106.78363728626903, 14.777513134305407]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.83909042029613, 14.858124596746793],
                  [106.83909042029613, 14.854557251504966],
                  [106.84235198645824, 14.854557251504966],
                  [106.84235198645824, 14.858124596746793]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.83608634619945, 14.875960438837689],
                  [106.83608634619945, 14.872476343677278],
                  [106.83960540442699, 14.872476343677278],
                  [106.83960540442699, 14.875960438837689]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.57603181582229, 13.763523056997787],
                  [107.57937921267288, 13.75981323429581],
                  [107.58358491640823, 13.764648497197163],
                  [107.58203996401565, 13.76631580605663],
                  [107.57946504336135, 13.766607583884944],
                  [107.57903588991897, 13.764898594283817],
                  [107.5778342602803, 13.765482153112684]]]),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.57113946657913, 13.766065710485469],
                  [107.57328523379104, 13.7625643444087],
                  [107.5778342602803, 13.76735786805752],
                  [107.57474435549514, 13.769066839686149],
                  [107.57315648775833, 13.767024408722456]]]),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.66465200167434, 13.800909780539556],
                  [107.66465200167434, 13.797992414340495],
                  [107.66778482180374, 13.797992414340495],
                  [107.66778482180374, 13.800909780539556]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.65405191164749, 13.812703903288758],
                  [107.65636934023635, 13.812662228993867],
                  [107.65649808626907, 13.813329016817706],
                  [107.6573134778096, 13.813704084130183],
                  [107.66014589052932, 13.813662410014167],
                  [107.66306413393752, 13.81303729737954],
                  [107.66332162600295, 13.814954304145049],
                  [107.6602317212178, 13.815496064068249],
                  [107.65624059420364, 13.818038151499191],
                  [107.65439523440139, 13.818079824832537]]]),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.6208783505513, 13.77271116158152],
                  [107.62238038759963, 13.772294346882358],
                  [107.6232386944844, 13.77283620584634],
                  [107.6232386944844, 13.774003282425467],
                  [107.62431157809036, 13.77417000717534],
                  [107.62521280031936, 13.775712205473349],
                  [107.62534154635208, 13.784089915682298],
                  [107.62096418123977, 13.780713859648857]]]),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.7562199948384, 14.772703335512462],
                  [106.7562199948384, 14.769300573190613],
                  [106.76128400545852, 14.769300573190613],
                  [106.76128400545852, 14.772703335512462]]], null, false),
            {
              "class": 21,
              "type": "Agricultural",
              "system:index": "21"
            })]),
    barren = 
    /* color: #a52a2a */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[106.64125003017818, 14.931736089948803],
                  [106.64125003017818, 14.928667566019357],
                  [106.64536990322506, 14.928667566019357],
                  [106.64536990322506, 14.931736089948803]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.59420057732295, 14.95477633036255],
                  [106.59420057732295, 14.952620306268578],
                  [106.59651800591182, 14.952620306268578],
                  [106.59651800591182, 14.95477633036255]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.59578844505977, 14.939269059300129],
                  [106.59578844505977, 14.937112879432128],
                  [106.59836336571406, 14.937112879432128],
                  [106.59836336571406, 14.939269059300129]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.6313010741564, 14.922081392183458],
                  [106.6313010741564, 14.916566063321916],
                  [106.63516345513784, 14.916566063321916],
                  [106.63516345513784, 14.922081392183458]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.67371185055946, 14.911714115733844],
                  [106.67371185055946, 14.908686776761677],
                  [106.67744548550819, 14.908686776761677],
                  [106.67744548550819, 14.911714115733844]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.66671664944862, 14.887535686712965],
                  [106.66671664944862, 14.883885876781521],
                  [106.67100818387244, 14.883885876781521],
                  [106.67100818387244, 14.887535686712965]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.66379840604041, 14.867585403421858],
                  [106.66379840604041, 14.86414265229876],
                  [106.66705997220252, 14.86414265229876],
                  [106.66705997220252, 14.867585403421858]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.64997966519569, 14.86036800664443],
                  [106.64997966519569, 14.857091062954579],
                  [106.65285499325965, 14.857091062954579],
                  [106.65285499325965, 14.86036800664443]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.65083797208045, 14.87700083983302],
                  [106.65083797208045, 14.873931535660253],
                  [106.65345580807899, 14.873931535660253],
                  [106.65345580807899, 14.87700083983302]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.68864105806313, 14.892523449130978],
                  [106.68864105806313, 14.89007648093508],
                  [106.69190262422524, 14.89007648093508],
                  [106.69190262422524, 14.892523449130978]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.53024618311983, 14.736008926110596],
                  [106.53024618311983, 14.73451478504247],
                  [106.53161947413545, 14.73451478504247],
                  [106.53161947413545, 14.736008926110596]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.53410856410127, 14.717331426486309],
                  [106.53410856410127, 14.716003187801586],
                  [106.53531019373995, 14.716003187801586],
                  [106.53531019373995, 14.717331426486309]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.06445374437551, 14.768313497063314],
                  [107.06445374437551, 14.765159655453878],
                  [107.06840195604543, 14.765159655453878],
                  [107.06840195604543, 14.768313497063314]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[99.19861264630099, 26.711610915362566],
                  [99.19861264630099, 26.710000815823744],
                  [99.20084424420138, 26.710000815823744],
                  [99.20084424420138, 26.711610915362566]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[99.20366189623755, 26.722041933170843],
                  [99.20366189623755, 26.720968634358556],
                  [99.2049493565647, 26.720968634358556],
                  [99.2049493565647, 26.722041933170843]]], null, false),
            {
              "class": 14,
              "type": "Barren",
              "system:index": "14"
            })]),
    development = 
    /* color: #ff0000 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[106.83479063389129, 14.808346351486717],
                  [106.83479063389129, 14.804736694807673],
                  [106.83813803074187, 14.804736694807673],
                  [106.83813803074187, 14.808346351486717]]], null, false),
            {
              "class": 20,
              "type": "Development",
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.84547655460662, 14.808138901581568],
                  [106.84547655460662, 14.80448775075206],
                  [106.84976808903045, 14.80448775075206],
                  [106.84976808903045, 14.808138901581568]]], null, false),
            {
              "class": 20,
              "type": "Development",
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.9326183609746, 14.812697493649933],
                  [106.9326183609746, 14.811141645760946],
                  [106.93469975517016, 14.811141645760946],
                  [106.93469975517016, 14.812697493649933]]], null, false),
            {
              "class": 20,
              "type": "Development",
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.93650219962817, 14.815041616704722],
                  [106.93650219962817, 14.813755463832791],
                  [106.9380042366765, 14.813755463832791],
                  [106.9380042366765, 14.815041616704722]]], null, false),
            {
              "class": 20,
              "type": "Development",
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.91903669294473, 14.801830371975951],
                  [106.91903669294473, 14.80033668333215],
                  [106.92083913740274, 14.80033668333215],
                  [106.92083913740274, 14.801830371975951]]], null, false),
            {
              "class": 20,
              "type": "Development",
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.94961146436175, 14.82914977525033],
                  [106.94961146436175, 14.827697761223813],
                  [106.95139245114764, 14.827697761223813],
                  [106.95139245114764, 14.82914977525033]]], null, false),
            {
              "class": 20,
              "type": "Development",
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.03640727644925, 14.79490878384059],
                  [107.04451827651029, 14.792668175515638],
                  [107.04387454634671, 14.79100845072714],
                  [107.04254417067533, 14.78963916821971],
                  [107.04250125533109, 14.788311370870613],
                  [107.0452049220181, 14.78756448129186],
                  [107.04546241408353, 14.789016764223819],
                  [107.04524783736234, 14.790966957444766],
                  [107.04554824477201, 14.792502203608096],
                  [107.0543888056851, 14.790095596682189],
                  [107.05464629775052, 14.79117442377728],
                  [107.03683642989164, 14.79573863290313]]]),
            {
              "class": 20,
              "type": "Development",
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.69226330374177, 13.80223613540861],
                  [107.69226330374177, 13.797610035511108],
                  [107.6974560603946, 13.797610035511108],
                  [107.6974560603946, 13.80223613540861]]], null, false),
            {
              "class": 20,
              "type": "Development",
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.59201305960114, 13.77881295668312],
                  [107.59201305960114, 13.775186738577714],
                  [107.60123985861237, 13.775186738577714],
                  [107.60123985861237, 13.77881295668312]]], null, false),
            {
              "class": 20,
              "type": "Development",
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[107.5971199855655, 13.726873482230307],
                  [107.5971199855655, 13.723705051755417],
                  [107.60111111257966, 13.723705051755417],
                  [107.60111111257966, 13.726873482230307]]], null, false),
            {
              "class": 20,
              "type": "Development",
              "system:index": "9"
            })]),
    snow = 
    /* color: #f0f8ff */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[98.76061251391098, 26.769975939367452],
                  [98.76061251391098, 26.768136767903655],
                  [98.76301577318833, 26.768136767903655],
                  [98.76301577318833, 26.769975939367452]]], null, false),
            {
              "type": "snow",
              "class": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[98.7616424821727, 26.810430174157997],
                  [98.7616424821727, 26.808132024589916],
                  [98.764217402827, 26.808132024589916],
                  [98.764217402827, 26.810430174157997]]], null, false),
            {
              "type": "snow",
              "class": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[98.71340563524888, 26.905991886696846],
                  [98.71340563524888, 26.90293026381031],
                  [98.71615221728013, 26.90293026381031],
                  [98.71615221728013, 26.905991886696846]]], null, false),
            {
              "type": "snow",
              "class": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[98.76921984145768, 26.675160995643626],
                  [98.76921984145768, 26.672399928071112],
                  [98.77179476211198, 26.672399928071112],
                  [98.77179476211198, 26.675160995643626]]], null, false),
            {
              "type": "snow",
              "class": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[98.7834677357448, 26.60427244768971],
                  [98.7834677357448, 26.600435232949003],
                  [98.78707262466081, 26.600435232949003],
                  [98.78707262466081, 26.60427244768971]]], null, false),
            {
              "type": "snow",
              "class": 2,
              "system:index": "4"
            })]),
    shadow = 
    /* color: #808080 */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[98.81337034210532, 26.554496198501056],
                  [98.81337034210532, 26.55249999546411],
                  [98.8156019400057, 26.55249999546411],
                  [98.8156019400057, 26.554496198501056]]], null, false),
            {
              "name": "shadow",
              "class": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[98.81294118866293, 26.567854508704826],
                  [98.81294118866293, 26.566165612942097],
                  [98.81448614105551, 26.566165612942097],
                  [98.81448614105551, 26.567854508704826]]], null, false),
            {
              "name": "shadow",
              "class": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[98.82718908295004, 26.555954940278383],
                  [98.82718908295004, 26.554265869155238],
                  [98.82890569671957, 26.554265869155238],
                  [98.82890569671957, 26.555954940278383]]], null, false),
            {
              "name": "shadow",
              "class": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[98.73901786773995, 26.596101436942035],
                  [98.73901786773995, 26.59425945839281],
                  [98.74073448150948, 26.59425945839281],
                  [98.74073448150948, 26.596101436942035]]], null, false),
            {
              "name": "shadow",
              "class": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[98.73180808990791, 26.598096880246523],
                  [98.73180808990791, 26.596408430484484],
                  [98.7333530423005, 26.596408430484484],
                  [98.7333530423005, 26.598096880246523]]], null, false),
            {
              "name": "shadow",
              "class": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[98.75692760238806, 26.578574078431267],
                  [98.75692760238806, 26.576923721381476],
                  [98.75890170822302, 26.576923721381476],
                  [98.75890170822302, 26.578574078431267]]], null, false),
            {
              "name": "shadow",
              "class": 3,
              "system:index": "5"
            })]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
/*
 * training.js
 *
 * This page is intended to be used for training of the landcover classification
 * and testing of the assessment maps.
 */

// Import the assets
var shapefiles = require('users/rzupko/gms-malaria:assets/shapefiles.js');

// Import other scripts
var ml = require('users/rzupko/gms-malaria:imports/ml.js');
var visual = require('users/rzupko/gms-malaria:imports/visualization.js');

// Get the various shapefiles that are used for training data
function getFeatures() {
  return shadow
    .merge(water)
    .merge(snow)
    .merge(forest)
    .merge(vegetation)
    .merge(scrub)
    .merge(agricultural)
    .merge(barren)
    .merge(development);
}

// Load the and center the GMS and reference image
var image = ml.getReferenceImage();
Map.centerObject(shapefiles.getGms(), 6);
Map.addLayer(image, visual.viz_gms_rgb, 'Refernece Image (RGB)');
Map.addLayer(image, visual.viz_gms_cir, 'Refernece Image (CIR)');

// Get the classifier
var classifier = ml.getClassifier(getFeatures());

// Classify the reference images
var classified = image.select(ml.classifiedBands).classify(classifier);

// Add the classified image to the map
Map.addLayer(classified, visual.viz_trainingPalette, 'Landcover');


// TODO REMOVE THIS - OLD PROCESSING PIPEILINE CODE
//var results = processing.process(image);

// By adding the Landsat and malaria results to image collections we have a 
// hook for future projects to use additional images additional images can
// be appended to the collection via:
//
// landsat = landsat.merge(ee.ImageCollection.fromImages([image]));
// malaria = malaria.merge(ee.ImageCollection.fromImages([results]));
// var landsat = ee.ImageCollection.fromImages([image]);
// var malaria = ee.ImageCollection.fromImages([results]);

// Visualize and export the results of the proof of concept
// visual.visualizeGms();
// visual.visualizeResults(landsat, malaria, true);
//exporting.queueExports(results);